<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Document</title>
    <style></style>
    <script>
        function checkAll(e, itemName, thisValue) {
            var target = document.getElementById('arrayid');
            var targetValue = target.value;
            var inputs = document.getElementsByName(itemName);
            if (e.checked == true) {
                targetValue += thisValue + ',';
            } else {
                targetValue = targetValue.replace(thisValue + ',', '');
            }
            target.value = targetValue;
            for (var i = 0; i < inputs.length; i++) {
                inputs[i].checked = e.checked;
            }
        }
    </script>
</head>
<body>
<form>
    <p>
        <input type="checkbox" value="1001" name="1001" id="1001" onclick="checkAll(this, 'mk1001', '1001')">
        <label
                for="1001">复选1</label> <input name="mk1001" type="checkbox" id="mk1001" value="1"/>
        <input name="mk1001"
               type="checkbox"
               id="mk1002"
               value="2"/>
        <input
                name="mk1001" type="checkbox" id="mk1003" value="3"/>
        <input name="mk1001" type="checkbox" id="mk1004"
               value="4"/>
        <input name="mk1001"
               type="checkbox"
               id="mk1005" value="5"/>
    </p>
    <p>
        <input type="checkbox" value="1002" name="1002" id="1002" onclick="checkAll(this, 'mk1002', '1002')">
        <label
                for="1002">复选2</label> <input name="mk1002" type="checkbox" id="mk1001" value="6"/>
        <input name="mk1002"
               type="checkbox"
               id="mk1002"
               value="7"/>
        <input name="mk1002" type="checkbox" id="mk1003" value="8"/>
        <input name="mk1002" type="checkbox" id="mk1004"
               value="9"/>
        <input name="mk1002"
               type="checkbox"
               id="mk1005" value="10"/>
    </p>
    <p><input type="checkbox" value="1003" name="1003" id="1003" onclick="checkAll(this, 'mk1003', '1003')">
        <label
                for="1003">复选3</label> <input name="mk1003" type="checkbox" id="mk1001" value="11"/>
        <input name="mk1003"
               type="checkbox"
               id="mk1002"
               value="12"/>
        <input name="mk1003" type="checkbox" id="mk1003" value="13"/>
        <input name="mk1003" type="checkbox" id="mk1004"
               value="14"/>
        <input name="mk1003"
               type="checkbox"
               id="mk1005"
               value="15"/>
    </p>
    <p><input type="checkbox" value="1004" name="1004" id="1004" onclick="checkAll(this, 'mk1004', '1004')">
        <label
                for="1004">复选4</label> <input name="mk1004" type="checkbox" id="mk1001" value="11"/>
        <input name="mk1004"
               type="checkbox"
               id="mk1002"
               value="12"/>
        <input name="mk1004" type="checkbox" id="mk1003" value="13"/>
        <input name="mk1004" type="checkbox" id="mk1004"
               value="14"/>
        <input name="mk1004"
               type="checkbox"
               id="mk1005"
               value="15"/>
    </p>
    <p> 请把复选1,2,3的值传到以下的框中，中间以,号分隔 </p>
    <p><input type="text" id="arrayid"/></p></form>
</body>
</html>